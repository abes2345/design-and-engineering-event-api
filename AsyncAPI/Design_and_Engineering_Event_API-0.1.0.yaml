---
components:
  schemas:
    Engineering Complete:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-state-id: "1"
      x-ep-schema-version-id: "5d52bal3luk"
      x-ep-schema-id: "mgcrj5xjmi5"
      x-ep-schema-state-name: "DRAFT"
      x-ep-schema-name: "Engineering Complete"
      type: "object"
      properties:
        eventId:
          type: "string"
        productId:
          type: "string"
        completionDate:
          format: "date-time"
          type: "string"
        completedBy:
          type: "string"
      required:
      - "eventId"
      - "productId"
      - "completedBy"
      - "completionDate"
      x-ep-schema-version-displayname: "0.1.0"
    Product Model Complete:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-state-id: "1"
      x-ep-schema-version-id: "6jlvvzla186"
      x-ep-schema-id: "e00ipgnhkfa"
      x-ep-schema-state-name: "DRAFT"
      x-ep-schema-name: "Product Model Complete"
      type: "object"
      properties:
        eventId:
          type: "string"
        productId:
          type: "string"
        completionDate:
          format: "date-time"
          type: "string"
        completedBy:
          type: "string"
      required:
      - "eventId"
      - "productId"
      - "completedBy"
      - "completionDate"
      x-ep-schema-version-displayname: "0.1.0"
    Product Model Created:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-state-id: "1"
      x-ep-schema-version-id: "lbit2lbtm9k"
      x-ep-schema-id: "21xjhbecekq"
      x-ep-schema-state-name: "DRAFT"
      x-ep-schema-name: "Product Model Created"
      type: "object"
      properties:
        eventId:
          type: "string"
        productId:
          type: "string"
        createdBy:
          type: "string"
        creationDate:
          format: "date-time"
          type: "string"
        productType:
          type: "string"
      required:
      - "eventId"
      - "productId"
      - "productType"
      - "createdBy"
      - "creationDate"
      x-ep-schema-version-displayname: "0.1.0"
    Product Model Modified:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-state-id: "1"
      x-ep-schema-version-id: "7du9b6blc4m"
      x-ep-schema-id: "f5ibu7o56kd"
      x-ep-schema-state-name: "DRAFT"
      x-ep-schema-name: "Product Model Modified"
      type: "object"
      properties:
        eventId:
          type: "string"
        productId:
          type: "string"
        modifiedFields:
          type: "array"
          items:
            type: "string"
      required:
      - "eventId"
      - "productId"
      - "modifiedFields"
      x-ep-schema-version-displayname: "0.1.0"
    Product Model Approved:
      x-ep-schema-version: "0.1.0"
      x-ep-schema-state-id: "1"
      x-ep-schema-version-id: "uq484pf19x8"
      x-ep-schema-id: "rsfwkeksfvc"
      x-ep-schema-state-name: "DRAFT"
      x-ep-schema-name: "Product Model Approved"
      type: "object"
      properties:
        eventId:
          type: "string"
        designApproved:
          type: "boolean"
        designFileUrl:
          type: "string"
        productName:
          type: "string"
        productType:
          type: "string"
        designerName:
          type: "string"
      required:
      - "eventId"
      - "productName"
      - "productType"
      - "designFileUrl"
      - "designerName"
      x-ep-schema-version-displayname: "0.1.0"
  messages:
    Engineering Complete:
      x-ep-event-id: "ndynjsg1pij"
      x-ep-event-version-displayname: "0.1.0"
      x-ep-event-version-id: "6e34nws3erk"
      payload:
        $ref: "#/components/schemas/Engineering Complete"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "Engineering Complete"
      description: "PLM system publishes \"Engineering complete\" event when the engineering\
        \ process is completed."
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "1"
      x-ep-event-state-name: "DRAFT"
    Product Model Complete:
      x-ep-event-id: "rlagy7tk1ge"
      x-ep-event-version-displayname: "0.1.0"
      x-ep-event-version-id: "8ii9js9j8eh"
      payload:
        $ref: "#/components/schemas/Product Model Complete"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "Product Model Complete"
      description: "CAD system publishes \"Product Model Complete\" event when a new\
        \ product or part design is completed."
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "1"
      x-ep-event-state-name: "DRAFT"
    Product Model Created:
      x-ep-event-id: "1s1c3adi7ie"
      x-ep-event-version-displayname: "0.1.0"
      x-ep-event-version-id: "v8pi26ea9lq"
      payload:
        $ref: "#/components/schemas/Product Model Created"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "Product Model Created"
      description: "CAD system publishes \"Product Model Created\" event when a new\
        \ product or part design is created."
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "1"
      x-ep-event-state-name: "DRAFT"
    Product Model Modified:
      x-ep-event-id: "ukpw2zejd85"
      x-ep-event-version-displayname: "0.1.0"
      x-ep-event-version-id: "4wdv6d3q80q"
      payload:
        $ref: "#/components/schemas/Product Model Modified"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "Product Model Modified"
      description: "CAD system publishes \"Product Model Modified\" event when a new\
        \ product or part design is modified."
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "1"
      x-ep-event-state-name: "DRAFT"
    Product Model Approved:
      x-ep-event-id: "i8hkhuguowl"
      x-ep-event-version-displayname: "0.1.0"
      x-ep-event-version-id: "x5lgg840074"
      payload:
        $ref: "#/components/schemas/Product Model Approved"
      x-ep-event-version: "0.1.0"
      x-ep-event-name: "Product Model Approved"
      description: "CAD system publishes \"Product Model Approved\" event when a new\
        \ product or part design is approved."
      schemaFormat: "application/vnd.aai.asyncapi+json;version=2.0.0"
      contentType: "application/json"
      x-ep-event-state-id: "1"
      x-ep-event-state-name: "DRAFT"
channels:
  acmeManufacturing/sc/product/model/approved/v1/cad/{productModelID}:
    subscribe:
      message:
        $ref: "#/components/messages/Product Model Approved"
    publish:
      message:
        $ref: "#/components/messages/Product Model Approved"
    parameters:
      productModelID:
        schema:
          type: "string"
        x-ep-parameter-name: "productModelID"
  acmeManufacturing/sc/product/model/modified/v1/cad/{productModelID}:
    subscribe:
      message:
        $ref: "#/components/messages/Product Model Modified"
    publish:
      message:
        $ref: "#/components/messages/Product Model Modified"
    parameters:
      productModelID:
        schema:
          type: "string"
        x-ep-parameter-name: "productModelID"
  acmeManufacturing/sc/product/engineering/complete/v1/plm/{productModelID}:
    subscribe:
      message:
        $ref: "#/components/messages/Engineering Complete"
    publish:
      message:
        $ref: "#/components/messages/Engineering Complete"
    parameters:
      productModelID:
        schema:
          type: "string"
        x-ep-parameter-name: "productModelID"
  acmeManufacturing/sc/product/model/complete/v1/cad/{productModelID}:
    subscribe:
      message:
        $ref: "#/components/messages/Product Model Complete"
    publish:
      message:
        $ref: "#/components/messages/Product Model Complete"
    parameters:
      productModelID:
        schema:
          type: "string"
        x-ep-parameter-name: "productModelID"
  acmeManufacturing/sc/product/model/created/v1/cad/{productModelID}:
    subscribe:
      message:
        $ref: "#/components/messages/Product Model Created"
    publish:
      message:
        $ref: "#/components/messages/Product Model Created"
    parameters:
      productModelID:
        schema:
          type: "string"
        x-ep-parameter-name: "productModelID"
asyncapi: "2.5.0"
info:
  x-ep-event-api-version: "0.1.0"
  x-ep-event-api-id: "5oliqhx8wyh"
  description: "* CAD system publishes \"Product Model\" events when a new product\
    \ or part design is created, modified or completed.\n* ERP system publishes \"\
    Product Model Approved\" events when a new product or part design is approved.\n\
    * CAD system subscribes to \"Product Model Approved\" events when a new product\
    \ or part design is approved.\n* PLM system subscribes to \"Product Model\" events\
    \ to initiate and manage the product engineering process.\n* PLM system publishes\
    \ \"Engineering completed\" event when the engineering process is completed.\n\
    * MES system subscribes to \"Engineering completed\" event to initiate the production\
    \ process."
  x-ep-displayname: "0.1.0"
  x-ep-state-name: "DRAFT"
  title: "Design and Engineering Event API"
  x-ep-application-domain-id: "06jf5fwrcrf"
  version: "0.1.0"
  x-ep-state-id: "1"
  x-ep-event-api-version-id: "6majf13fv8r"
  x-ep-application-domain-name: "Acme Manufacturing - Supply Chain Optimisation"
